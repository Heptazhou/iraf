.help apselect May89 noao.digiphot.apphot
.ih
NAME
apselect - select fields from an APPHOT database file
.ih
USAGE
apselect apfile fields expr
.ih
PARAMETERS
.ls apfile
The APPHOT output file(s) containing the records from which the selection is to
be made.
.le
.ls fields
A template defining the fields to be tabulated from each selected record.
The fields are specified by keywords defined in the apphot output
files #K and #N entries. Upper or lower case and minimum match
abbreviations are permissible. Some fields such as mag may have
multiple entries. An individual entry can be referenced by specifying an
array index, e.g. mag[2] or several values can be selected by
specifying a range of elements, e.g. mag[1-3]. The fields are output in
the order in which they are specified in the template.
.le
.ls expr
The boolean expression to be evaluated.  The expression
is evaluated once for each record. See the hselect and hedit  tasks for a
full description of the boolean expression syntax.
If\fIexpr\fR = yes, the specified fields in all the records are
printed.
.le
.ls savepars = no
If savepars is enabled the keyword parameters are printed on the standard
output as well as the selected fields.
.le
.ls format = no
By default the selected fields are output with 2 blank characters between each
field. If formatting is turned on the input field width is preserved on
output.
.le
.ih
DESCRIPTION
\fIApselect\fR selects a subset of fields specified by the \fIfields\fR
parameter from an APPHOT database or a list of databases by
evaluating a boolean expression supplied by the user and tabulates the
results on the standard output.
The resultant table is output in list form, suitable for further user analysis
or for use as input to another IRAF task.

The form of the boolean expression \fIexpr\fR is fully documented in the
manual page for the \fIhedit\fR task.  In the case of \fIapselect\fR task,
however, the expression need not be parenthesized to be evaluated.
.ih
EXAMPLES

1. Select the fields xcenter and ycenter from the apphot database file.

.nf
	cl> apselect image.ctr.3 xcenter,ycenter yes
.fi

2. Select the fields id, xcenter, ycenter and the first three magnitudes
   from the apphot database file.

.nf
	cl> apselect image.mag.3 id,xcen,ycen,mag[1-3] yes
.fi

3. Print all fields for all records with magnitudes < 20.0. This will only
   work if there is a single magnitude field.

.nf
	cl> apselect image.mag.3 * "mag < 20.0"
.fi

4. Print the id and all magnitudes for which magnitudes 1 and 2 are < 20.0

.nf
	cl> apselect image.mag.3 id,mag "mag[1] < 20.0 && mag[2] < 20.0"
.fi

.ih
BUGS
APSELECT does not allow arrays in the expression field.
.ih
SEE ALSO
hselect, hedit
.endhelp
