From 7afc4cda0e04e8d094b500937e6f64b6b8ff21d3 Mon Sep 17 00:00:00 2001
From: Ole Streicher <olebole@debian.org>
Date: Tue, 25 Apr 2023 20:48:05 +0200
Subject: [PATCH 2/5] Fix one more allocated size of Dimblock

This was fixed on other places, but this one remained.
---
 unix/f2c/src/proc.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/unix/f2c/src/proc.c b/unix/f2c/src/proc.c
index 06798d0ba..6904df908 100644
--- a/unix/f2c/src/proc.c
+++ b/unix/f2c/src/proc.c
@@ -1698,7 +1698,7 @@ setbound(Namep v, int nd, struct Dims *dims)
 	}
 
 	v->vdim = p = (struct Dimblock *)
-	    ckalloc( sizeof(int) + (3+2*nd)*sizeof(expptr) );
+	    ckalloc( sizeof(struct Dimblock) + 2*sizeof(expptr)*(nd-1) );
 	p->ndim = nd--;
 	p->nelt = ICON(1);
 	doin_setbound = 1;
-- 
2.43.0

