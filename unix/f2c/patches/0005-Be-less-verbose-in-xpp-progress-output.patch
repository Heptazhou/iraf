From 73c37db40e0721843820bc9943756263e5f0171a Mon Sep 17 00:00:00 2001
From: Ole Streicher <olebole@debian.org>
Date: Thu, 1 Jun 2017 12:17:42 +0200
Subject: [PATCH 5/5] Be less verbose in xpp progress output

---
 unix/f2c/src/main.c | 4 ----
 unix/f2c/src/proc.c | 8 --------
 2 files changed, 12 deletions(-)

diff --git a/unix/f2c/src/main.c b/unix/f2c/src/main.c
index 141487c96..14aa10d8e 100644
--- a/unix/f2c/src/main.c
+++ b/unix/f2c/src/main.c
@@ -667,10 +667,6 @@ main(int argc, char **argv)
 
 	if(inilex( copys(file_name) ))
 		done(1);
-	if (filename0) {
-		fprintf(diagfile, "%s:\n", file_name);
-		fflush(diagfile);
-		}
 
 	procinit();
 	if(k = yyparse())
diff --git a/unix/f2c/src/proc.c b/unix/f2c/src/proc.c
index 6904df908..5df843afd 100644
--- a/unix/f2c/src/proc.c
+++ b/unix/f2c/src/proc.c
@@ -460,13 +460,9 @@ startproc(Extsym *progname, int Class)
 	entries = p;
 
 	procclass = Class;
-	fprintf(diagfile, "   %s", (Class==CLMAIN ? "MAIN" : "BLOCK DATA") );
 	if(progname) {
-		fprintf(diagfile, " %s", progname->fextname);
 		procname = progname->cextname;
 		}
-	fprintf(diagfile, ":\n");
-	fflush(diagfile);
 }
 
 /* subroutine or function statement */
@@ -528,10 +524,6 @@ entrypt(int Class, int type, ftnint length, Extsym *entry, chainp args)
 
 	if(Class != CLENTRY)
 		puthead( procname = entry->cextname, Class);
-	else
-		fprintf(diagfile, "       entry ");
-	fprintf(diagfile, "   %s:\n", entry->fextname);
-	fflush(diagfile);
 	q = mkname(entry->fextname);
 	if (type == TYSUBR)
 		q->vstg = STGEXT;
-- 
2.43.0

